# プロジェクトガイドライン

    このファイルは本プロジェクトのコーディング規約及び設定を記載した「ルール」または「ルールファイル」です

## 最重要ルール - 新しいルールの追加プロセス

    ユーザーから今回限りではなく常に対応が必要だと思われる指示を受けた場合：
    1. 「これを標準のルールにしますか？」と質問する
    2. YESの回答を得た場合、CLAUDE.mdに追加ルールとして記載する
    3. 以降は標準ルールとして常に適用する

    このプロセスにより、プロジェクトルールを継続的に改善していきます。

1. パッケージ管理

   - `uv` のみを使用し、`pip` は絶対に使わない
   - インストール方法：`uv add package`
   - ツールの実行：`uv run tool`
   - アップグレード：`uv add --dev package --upgrade-package package`
   - 禁止事項：`uv pip install`、`@latest` 構文の使用

2. コード品質

   - すべてのコードに型ヒントを必須とする
   - パブリック API には必ずドキュメンテーション文字列（docstring）を付ける
   - 関数は集中して小さく保つこと
   - 既存のパターンを正確に踏襲すること
   - 行の最大長は 88 文字まで

3. テスト要件
   - テストフレームワーク：`uv run --frozen pytest`
   - 非同期テストは `asyncio` ではなく `anyio` を使用
   - カバレッジはエッジケースやエラーも含めてテストすること
   - 新機能には必ずテストを追加すること
   - バグ修正にはユニットテストを追加すること
